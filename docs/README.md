# 구현 목록 명세

## domain
### model
- ### classes
  - ### ExpectedVisitDay
      - 멤버
          - `LocalDate date`

      - 메소드
          - 검증 메소드
              - [x] 입력받은 날짜를 정수로 파싱할 수 없다.
              - [x] 파싱한 날짜가 1 이상 31 이하의 범위를 충족하지 않는다.
                  - 위 조건에 해당하면 `IllegalArgumentException` 예외를 발생시킨다.

              - 기능 메소드
                  - 함수형 인터페이스를 이용한 기능
                      - [x] 저장된 날짜가 이벤트 기간을 충족 여부를 반환한다.
                      - [x] 저장된 날짜를 이용한 혜택을 계산 결과를 반환한다.
                  - [ ] 저장된 날짜를 DTO 를 통해 반환한다.

  - ### OrderInfo
      - 멤버
          - `Map<Menu, Integer> orderInfo`

      - 메소드
          - 검증 메소드
              - 입력된 값을 검증 후 멤버 자료구조와 동일하도록 Mapping 한다.
                  - 검증과 Split
                      - [x] 주문 형식을 검증한다.
                      - [x] 검증을 통과한 주문을 `주문 구분자`로 split 한다.
                  - Split 한 주문 아이템의 형식을 검증한다.
                      - [x] 주문 아이템의 형식이 `한글 문자열` `-` `1이상의 정수` 가 아니다. (주문 수량이 0개인 경우를 동시에 처리)
                  - 검증을 통과한 주문 아이템 리스트를 Mapping 과 동시에 검증한다.
                      - [x] 입력된 주문 메뉴가 존재하지 않는다.
                      - [x] 중복된 주문 메뉴가 존재한다.
                      - [x] 주문한 메뉴의 총 수량이 20개 초과이다.
                          - (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)
                      - [x] 주문한 모든 메뉴의 카테고리가 음료이다.
                  - 검증 실패 시 `IllegalArgumentException` 예외를 발생시킨다.

          - 기능 메소드
              - [x] 총 주문 금액을 계산한다.
              - [x] 주문된 메인 메뉴의 수량을 계산한다.
              - [x] 주문된 디저트 메뉴의 수량을 계산한다.

  - ### DecemberEventPlan
      - 멤버
          - `ExpectedVisitDay expectedVisitDay`
          - `OrderInfo orderInfo`

      - 메소드
          - 기능 메소드
              - 함수형 인터페이스를 이용한 기능
                  - [x] 구현된 이벤트 기간 충족 여부 기능을 전달하여 기간 충족 여부를 반환한다.
                  - [x] 구현된 날짜 혜택 계산 기능을 전달하여 계산된 혜택을 반환한다.
              - [x] 계산된 메인 메뉴 수량을 반환한다.
              - [x] 계산된 디저트 메뉴 수량을 반환한다.

- ### enums
    - ### menu
        - ### MenuCategory
            - 메뉴 카테고리를 상수로 저장

        - ### Menu
            - 메소드
                - 기능 메소드
                    - [x] 이름을 통해 메뉴의 존재 여부를 반환한다.
                    - [x] 이름을 통해 메뉴를 반환한다.
                    - [x] 메뉴의 카테고리가 음료인지 여부를 반환한다.
                    - [x] 메뉴의 카테고리가 메인인지 여부를 반환한다.
                    - [x] 메뉴의 카테고리가 디저트인지 여부를 반환한다.
                    - [x] 메뉴의 이름을 반환한다.
                    - [x] 메뉴의 가격을 반환한다.

    - ### Giveaway
        - 메소드
            - 기능 메소드
                - [x] 증정 상품의 이름을 반환한다.
                - [x] 증정 상품의 가격을 반환한다.

    - ### AppliedEventPolicyName
        - 적용된 이벤트 정책이 출력될 문자열을 상수로 저장

    - ### Badge
        - 총혜택 금액에 따라 다른 이벤트 배지를 부여합니다.
            - 5천 원 이상: 별
            - 1만 원 이상: 트리
            - 2만 원 이상: 산타

        - 메소드
            - 검증 메소드
                - 기능

            - 기능 메소드
                - 기능

            - 스탠다드 메소드
                - 기능

### policy

- ### DecemberEventApplyPolicy
    - 이벤트 참여 조건을 만족하는지 확인 후 모든 정책들로터 혜택을 받는다.
        - 이벤트 기간: `크리스마스 디데이 할인` 을 제외한 다른 이벤트는 2023.12.1 ~ 2023.12.31 동안 적용
        - 총주문 금액 10,000원 이상부터 이벤트가 적용됩니다.

- ### ChristmasDDayDiscountPolicy
    - 이벤트 기간: 2023.12.1 ~ 2023.12.25
    - 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
    - 총주문 금액에서 해당 금액만큼 할인
        - (e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인)

- ### WeekdayDiscountPolicy
    - 평일(일요일~목요일)에는 디저트 메뉴를 메뉴 1개당 2,023원 할인

- ### WeekendDiscountPolicy
    - 주말(금요일, 토요일)에는 메인 메뉴를 메뉴 1개당 2,023원 할인

- ### SpecialDayDiscountPolicy
    - 특별 할인: 이벤트 달력에 별(3,10,17,24,25,31)이 있으면 총주문 금액에서 1,000원 할인

- ### GiveawayEventPolicy
    - 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
---

## DTO

- ### Dto
    - ### eventResult
        - ### EventResult
            - ### DiscountEventResultDto
                - ### DiscountAmountDto
            - ### GiveawayEventResultDto

    - ### ExpectedVisitDayDto
    - ### MenuAndQuantityDto

---

## 어플리케이션 서비스
### Controller

- ### ChristmasPromotionController
    - [ ] 입력된 예상 방문 날짜를 저장한다.
    - [ ] 입력된 주문 메뉴를 저장한다.

### 공용 (util)
- ### ErrorMessagePrefix

### UI(View)

- ### InputView
    - [x] 예상 방문 날짜를 입력받는다.
    - [x] 주문 메뉴를 입력받는다.

    - ### InputValidator
        - [x] null 이면 `IllegalArgumentException` 예외를 발생시킨다.
        - [x] 빈 문자열 이면 `IllegalArgumentException` 예외를 발생시킨다.

- ### OutputView
    - [x] 인사말을 출력한다.
    - 예상 날짜와 주문 메뉴를 통해 받을 수 있는 이벤트 혜택 미리 보기를 출력한다.
        - [ ] 주문 메뉴를 출력한다.
            - 순서 상관 없음
        - [ ] 할인 전 총주문 금액을 출력한다.
        - [ ] 증정 메뉴를 출력한다.
        - [ ] 혜택 내역을 출력한다.
            - 순서 상관 없음
        - [ ] 총혜택 금액을 출력한다.
        - [ ] 할인 후 예상 결제 금액을 출력한다.
        - [ ] 부여받을 12월 이벤트 배지를 출력한다. 